{"ast":null,"code":"import _objectSpread from\"C:/xampp/htdocs/projects/project4/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{fetchDepartments,createDepartment,updateDepartment,deleteDepartment,fetchProfs,createProf,updateProf,deleteProf}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AdminPage(){const[departments,setDepartments]=useState([]);const[profs,setProfs]=useState([]);const[newDepartment,setNewDepartment]=useState({department_name:''});const[newProf,setNewProf]=useState({name:'',email:'',password:''});useEffect(()=>{const loadData=async()=>{try{const departmentsData=await fetchDepartments();setDepartments(departmentsData);const profsData=await fetchProfs();setProfs(profsData);}catch(error){console.error('Failed to fetch data',error);}};loadData();},[]);const handleCreateDepartment=async()=>{try{const createdDepartment=await createDepartment(newDepartment);setDepartments([...departments,createdDepartment]);setNewDepartment({department_name:''});}catch(error){console.error('Failed to create department',error);}};const handleCreateProf=async()=>{try{const createdProf=await createProf(newProf);setProfs([...profs,createdProf]);setNewProf({name:'',email:'',password:''});}catch(error){console.error('Failed to create professor',error);}};const handleDeleteDepartment=async departmentId=>{try{await deleteDepartment(departmentId);setDepartments(departments.filter(dep=>dep.department_id!==departmentId));}catch(error){console.error('Failed to delete department',error);}};const handleDeleteProf=async profId=>{try{await deleteProf(profId);setProfs(profs.filter(prof=>prof.professor_id!==profId));}catch(error){console.error('Failed to delete professor',error);}};// Similar input change handlers and state management goes here...\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Admin Page\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Manage Departments\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"department_name\",value:newDepartment.department_name,onChange:e=>setNewDepartment({department_name:e.target.value}),placeholder:\"Department Name\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCreateDepartment,children:\"Create Department\"}),/*#__PURE__*/_jsx(\"ul\",{children:departments.map(dep=>/*#__PURE__*/_jsxs(\"li\",{children:[dep.department_name,/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteDepartment(dep.department_id),children:\"Delete\"})]},dep.department_id))}),/*#__PURE__*/_jsx(\"h2\",{children:\"Manage Professors\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:newProf.name,onChange:e=>setNewProf(_objectSpread(_objectSpread({},newProf),{},{name:e.target.value})),placeholder:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"email\",value:newProf.email,onChange:e=>setNewProf(_objectSpread(_objectSpread({},newProf),{},{email:e.target.value})),placeholder:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:newProf.password,onChange:e=>setNewProf(_objectSpread(_objectSpread({},newProf),{},{password:e.target.value})),placeholder:\"Password\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCreateProf,children:\"Create Professor\"}),/*#__PURE__*/_jsx(\"ul\",{children:profs.map(prof=>/*#__PURE__*/_jsxs(\"li\",{children:[prof.name,/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteProf(prof.professor_id),children:\"Delete\"})]},prof.professor_id))})]});}export default AdminPage;","map":{"version":3,"names":["React","useState","useEffect","fetchDepartments","createDepartment","updateDepartment","deleteDepartment","fetchProfs","createProf","updateProf","deleteProf","jsx","_jsx","jsxs","_jsxs","AdminPage","departments","setDepartments","profs","setProfs","newDepartment","setNewDepartment","department_name","newProf","setNewProf","name","email","password","loadData","departmentsData","profsData","error","console","handleCreateDepartment","createdDepartment","handleCreateProf","createdProf","handleDeleteDepartment","departmentId","filter","dep","department_id","handleDeleteProf","profId","prof","professor_id","children","type","value","onChange","e","target","placeholder","onClick","map","_objectSpread"],"sources":["C:/xampp/htdocs/projects/project4/frontend/src/components/AdminPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { fetchDepartments, createDepartment, updateDepartment, deleteDepartment, fetchProfs, createProf, updateProf, deleteProf } from '../services/api';\r\n\r\nfunction AdminPage() {\r\n  const [departments, setDepartments] = useState([]);\r\n  const [profs, setProfs] = useState([]);\r\n  const [newDepartment, setNewDepartment] = useState({ department_name: '' });\r\n  const [newProf, setNewProf] = useState({ name: '', email: '', password: '' });\r\n\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      try {\r\n        const departmentsData = await fetchDepartments();\r\n        setDepartments(departmentsData);\r\n        const profsData = await fetchProfs();\r\n        setProfs(profsData);\r\n      } catch (error) {\r\n        console.error('Failed to fetch data', error);\r\n      }\r\n    };\r\n\r\n    loadData();\r\n  }, []);\r\n\r\n  const handleCreateDepartment = async () => {\r\n    try {\r\n      const createdDepartment = await createDepartment(newDepartment);\r\n      setDepartments([...departments, createdDepartment]);\r\n      setNewDepartment({ department_name: '' });\r\n    } catch (error) {\r\n      console.error('Failed to create department', error);\r\n    }\r\n  };\r\n\r\n  const handleCreateProf = async () => {\r\n    try {\r\n      const createdProf = await createProf(newProf);\r\n      setProfs([...profs, createdProf]);\r\n      setNewProf({ name: '', email: '', password: '' });\r\n    } catch (error) {\r\n      console.error('Failed to create professor', error);\r\n    }\r\n  };\r\n\r\n  const handleDeleteDepartment = async (departmentId) => {\r\n    try {\r\n      await deleteDepartment(departmentId);\r\n      setDepartments(departments.filter(dep => dep.department_id !== departmentId));\r\n    } catch (error) {\r\n      console.error('Failed to delete department', error);\r\n    }\r\n  };\r\n\r\n  const handleDeleteProf = async (profId) => {\r\n    try {\r\n      await deleteProf(profId);\r\n      setProfs(profs.filter(prof => prof.professor_id !== profId));\r\n    } catch (error) {\r\n      console.error('Failed to delete professor', error);\r\n    }\r\n  };\r\n\r\n  // Similar input change handlers and state management goes here...\r\n\r\n  return (\r\n    <div>\r\n      <h1>Admin Page</h1>\r\n      <h2>Manage Departments</h2>\r\n      <input\r\n        type=\"text\"\r\n        name=\"department_name\"\r\n        value={newDepartment.department_name}\r\n        onChange={(e) => setNewDepartment({ department_name: e.target.value })}\r\n        placeholder=\"Department Name\"\r\n      />\r\n      <button onClick={handleCreateDepartment}>Create Department</button>\r\n      <ul>\r\n        {departments.map(dep => (\r\n          <li key={dep.department_id}>\r\n            {dep.department_name}\r\n            <button onClick={() => handleDeleteDepartment(dep.department_id)}>Delete</button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n\r\n      <h2>Manage Professors</h2>\r\n      <input\r\n        type=\"text\"\r\n        name=\"name\"\r\n        value={newProf.name}\r\n        onChange={(e) => setNewProf({ ...newProf, name: e.target.value })}\r\n        placeholder=\"Name\"\r\n      />\r\n      <input\r\n        type=\"text\"\r\n        name=\"email\"\r\n        value={newProf.email}\r\n        onChange={(e) => setNewProf({ ...newProf, email: e.target.value })}\r\n        placeholder=\"Email\"\r\n      />\r\n      <input\r\n        type=\"password\"\r\n        name=\"password\"\r\n        value={newProf.password}\r\n        onChange={(e) => setNewProf({ ...newProf, password: e.target.value })}\r\n        placeholder=\"Password\"\r\n      />\r\n      <button onClick={handleCreateProf}>Create Professor</button>\r\n      <ul>\r\n        {profs.map(prof => (\r\n          <li key={prof.professor_id}>\r\n            {prof.name}\r\n            <button onClick={() => handleDeleteProf(prof.professor_id)}>Delete</button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AdminPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}