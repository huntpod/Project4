{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import'./Admin.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Admin(){const[donuts,setDonuts]=useState([]);const[form,setForm]=useState({id:'',name:'',description:'',price:''});const[isEditing,setIsEditing]=useState(false);useEffect(()=>{fetchDonuts();},[]);const fetchDonuts=()=>{axios.get('http://localhost/projects/project3/backend/donuts.php').then(response=>{setDonuts(response.data);}).catch(error=>{console.error('Error fetching donuts:',error);});};const handleSubmit=e=>{e.preventDefault();if(isEditing){axios.put('http://localhost/projects/project3/backend/donuts.php',form).then(()=>{fetchDonuts();setForm({id:'',name:'',description:'',price:''});setIsEditing(false);}).catch(error=>console.error('Error updating donut:',error));}else{axios.post('http://localhost/projects/project3/backend/donuts.php',form).then(()=>{fetchDonuts();setForm({id:'',name:'',description:'',price:''});}).catch(error=>console.error('Error adding donut:',error));}};const handleDelete=id=>{axios.delete(`http://localhost/projects/project3/backend/donuts.php?id=${id}`).then(()=>fetchDonuts()).catch(error=>console.error('Error deleting donut:',error));};const handleEdit=donut=>{setForm({id:donut.ID,name:donut.Name,description:donut.Description,price:donut.Price});setIsEditing(true);};return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Admin Dashboard\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"donut-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h3\",{children:isEditing?'Edit Donut':'Add New Donut'}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Name\",value:form.name,onChange:e=>setForm({...form,name:e.target.value}),required:true}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Description\",value:form.description,onChange:e=>setForm({...form,description:e.target.value}),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Price\",value:form.price,onChange:e=>setForm({...form,price:e.target.value}),required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:isEditing?'Update Donut':'Add Donut'}),isEditing&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"cancel-btn\",onClick:()=>{setForm({id:'',name:'',description:'',price:''});setIsEditing(false);},children:\"Cancel\"})]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Current Donuts\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"donuts-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:donuts.map(donut=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:donut.Name}),/*#__PURE__*/_jsx(\"td\",{children:donut.Description}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",donut.Price]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"edit-btn\",onClick:()=>handleEdit(donut),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"delete-btn\",onClick:()=>handleDelete(donut.ID),children:\"Delete\"})]})]},donut.ID))})]})]});}export default Admin;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Admin","donuts","setDonuts","form","setForm","id","name","description","price","isEditing","setIsEditing","fetchDonuts","get","then","response","data","catch","error","console","handleSubmit","e","preventDefault","put","post","handleDelete","delete","handleEdit","donut","ID","Name","Description","Price","className","children","onSubmit","type","placeholder","value","onChange","target","required","onClick","map"],"sources":["C:/xampp/htdocs/projects/project3/frontend/src/components/Admin.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport './Admin.css';\r\n\r\nfunction Admin() {\r\n    const [donuts, setDonuts] = useState([]);\r\n    const [form, setForm] = useState({ id: '', name: '', description: '', price: '' });\r\n    const [isEditing, setIsEditing] = useState(false);\r\n\r\n    useEffect(() => {\r\n        fetchDonuts();\r\n    }, []);\r\n\r\n    const fetchDonuts = () => {\r\n        axios\r\n            .get('http://localhost/projects/project3/backend/donuts.php')\r\n            .then((response) => {\r\n                setDonuts(response.data);\r\n            })\r\n            .catch((error) => {\r\n                console.error('Error fetching donuts:', error);\r\n            });\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        if (isEditing) {\r\n            axios\r\n                .put('http://localhost/projects/project3/backend/donuts.php', form)\r\n                .then(() => {\r\n                    fetchDonuts();\r\n                    setForm({ id: '', name: '', description: '', price: '' });\r\n                    setIsEditing(false);\r\n                })\r\n                .catch((error) => console.error('Error updating donut:', error));\r\n        } else {\r\n            axios\r\n                .post('http://localhost/projects/project3/backend/donuts.php', form)\r\n                .then(() => {\r\n                    fetchDonuts();\r\n                    setForm({ id: '', name: '', description: '', price: '' });\r\n                })\r\n                .catch((error) => console.error('Error adding donut:', error));\r\n        }\r\n    };\r\n\r\n    const handleDelete = (id) => {\r\n        axios\r\n            .delete(`http://localhost/projects/project3/backend/donuts.php?id=${id}`)\r\n            .then(() => fetchDonuts())\r\n            .catch((error) => console.error('Error deleting donut:', error));\r\n    };\r\n\r\n    const handleEdit = (donut) => {\r\n        setForm({\r\n            id: donut.ID,\r\n            name: donut.Name,\r\n            description: donut.Description,\r\n            price: donut.Price,\r\n        });\r\n        setIsEditing(true);\r\n    };\r\n\r\n    return (\r\n        <div className=\"admin-container\">\r\n            <h2>Admin Dashboard</h2>\r\n            <form className=\"donut-form\" onSubmit={handleSubmit}>\r\n                <h3>{isEditing ? 'Edit Donut' : 'Add New Donut'}</h3>\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Name\"\r\n                    value={form.name}\r\n                    onChange={(e) => setForm({ ...form, name: e.target.value })}\r\n                    required\r\n                />\r\n                <textarea\r\n                    placeholder=\"Description\"\r\n                    value={form.description}\r\n                    onChange={(e) => setForm({ ...form, description: e.target.value })}\r\n                    required\r\n                ></textarea>\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Price\"\r\n                    value={form.price}\r\n                    onChange={(e) => setForm({ ...form, price: e.target.value })}\r\n                    required\r\n                />\r\n                <button type=\"submit\">{isEditing ? 'Update Donut' : 'Add Donut'}</button>\r\n                {isEditing && (\r\n                    <button\r\n                        type=\"button\"\r\n                        className=\"cancel-btn\"\r\n                        onClick={() => {\r\n                            setForm({ id: '', name: '', description: '', price: '' });\r\n                            setIsEditing(false);\r\n                        }}\r\n                    >\r\n                        Cancel\r\n                    </button>\r\n                )}\r\n            </form>\r\n            <h3>Current Donuts</h3>\r\n            <table className=\"donuts-table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Name</th>\r\n                        <th>Description</th>\r\n                        <th>Price</th>\r\n                        <th>Actions</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {donuts.map((donut) => (\r\n                        <tr key={donut.ID}>\r\n                            <td>{donut.Name}</td>\r\n                            <td>{donut.Description}</td>\r\n                            <td>${donut.Price}</td>\r\n                            <td>\r\n                                <button className=\"edit-btn\" onClick={() => handleEdit(donut)}>Edit</button>\r\n                                <button className=\"delete-btn\" onClick={() => handleDelete(donut.ID)}>Delete</button>\r\n                            </td>\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Admin;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}