{"ast":null,"code":"import React,{useState,useEffect}from'react';import{fetchReviews,fetchCourses,fetchProfs}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function HomePage(){const[reviews,setReviews]=useState([]);const[courses,setCourses]=useState([]);const[profs,setProfs]=useState([]);const[searchTerm,setSearchTerm]=useState('');const[filteredReviews,setFilteredReviews]=useState([]);useEffect(()=>{const loadData=async()=>{try{const reviewsData=await fetchReviews();const coursesData=await fetchCourses();const profsData=await fetchProfs();setReviews(reviewsData);setCourses(coursesData);setProfs(profsData);setFilteredReviews(reviewsData);}catch(error){console.error('Failed to fetch data',error);}};loadData();},[]);useEffect(()=>{const term=searchTerm.toLowerCase();const filtered=reviews.filter(review=>{const course=courses.find(c=>c.course_id===review.course_id);const prof=profs.find(p=>p.professor_id===review.professor_id);return course&&course.course_code.toLowerCase().includes(term)||prof&&prof.name.toLowerCase().includes(term);});setFilteredReviews(filtered);},[searchTerm,reviews,courses,profs]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Reviews\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search by Course Code or Professor Name\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)}),/*#__PURE__*/_jsx(\"ul\",{children:filteredReviews.map(review=>{const course=courses.find(c=>c.course_id===review.course_id);const prof=profs.find(p=>p.professor_id===review.professor_id);const courseCode=course?course.course_code:'Unknown';const professorName=prof?prof.name:'Unknown';return/*#__PURE__*/_jsx(\"li\",{children:\"Course Code: \".concat(courseCode,\", Professor: \").concat(professorName,\", Review: \").concat(review.review_text,\", Flagged: \").concat(review.flagged,\", Ratings: \").concat(review.ratings)},review.review_id);})})]});}export default HomePage;","map":{"version":3,"names":["React","useState","useEffect","fetchReviews","fetchCourses","fetchProfs","jsx","_jsx","jsxs","_jsxs","HomePage","reviews","setReviews","courses","setCourses","profs","setProfs","searchTerm","setSearchTerm","filteredReviews","setFilteredReviews","loadData","reviewsData","coursesData","profsData","error","console","term","toLowerCase","filtered","filter","review","course","find","c","course_id","prof","p","professor_id","course_code","includes","name","children","type","placeholder","value","onChange","e","target","map","courseCode","professorName","concat","review_text","flagged","ratings","review_id"],"sources":["C:/xampp/htdocs/projects/project4/frontend/src/components/HomePage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { fetchReviews, fetchCourses, fetchProfs } from '../services/api';\r\n\r\nfunction HomePage() {\r\n  const [reviews, setReviews] = useState([]);\r\n  const [courses, setCourses] = useState([]);\r\n  const [profs, setProfs] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [filteredReviews, setFilteredReviews] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      try {\r\n        const reviewsData = await fetchReviews();\r\n        const coursesData = await fetchCourses();\r\n        const profsData = await fetchProfs();\r\n        setReviews(reviewsData);\r\n        setCourses(coursesData);\r\n        setProfs(profsData);\r\n        setFilteredReviews(reviewsData);\r\n      } catch (error) {\r\n        console.error('Failed to fetch data', error);\r\n      }\r\n    };\r\n\r\n    loadData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const term = searchTerm.toLowerCase();\r\n    const filtered = reviews.filter(review => {\r\n      const course = courses.find(c => c.course_id === review.course_id);\r\n      const prof = profs.find(p => p.professor_id === review.professor_id);\r\n      return (\r\n        (course && course.course_code.toLowerCase().includes(term)) ||\r\n        (prof && prof.name.toLowerCase().includes(term))\r\n      );\r\n    });\r\n    setFilteredReviews(filtered);\r\n  }, [searchTerm, reviews, courses, profs]);\r\n\r\n  return (\r\n    <div>\r\n      <h1>Reviews</h1>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Search by Course Code or Professor Name\"\r\n        value={searchTerm}\r\n        onChange={(e) => setSearchTerm(e.target.value)}\r\n      />\r\n      <ul>\r\n        {filteredReviews.map(review => {\r\n          const course = courses.find(c => c.course_id === review.course_id);\r\n          const prof = profs.find(p => p.professor_id === review.professor_id);\r\n          const courseCode = course ? course.course_code : 'Unknown';\r\n          const professorName = prof ? prof.name : 'Unknown';\r\n          return (\r\n            <li key={review.review_id}>\r\n              {`Course Code: ${courseCode}, Professor: ${professorName}, Review: ${review.review_text}, Flagged: ${review.flagged}, Ratings: ${review.ratings}`}\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HomePage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}